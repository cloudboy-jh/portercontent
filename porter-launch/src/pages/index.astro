---
import LandingLayout from "../layouts/LandingLayout.astro";
import Hero from "../components/landing/Hero.svelte";
import TerminalDemo from "../components/landing/TerminalDemo.svelte";
import Features from "../components/landing/Features.svelte";
import HowItWorks from "../components/landing/HowItWorks.svelte";
import UseCases from "../components/landing/UseCases.svelte";
import Button from "../components/shared/Button.svelte";

import heroData from "../content/marketing/hero.json";
import featuresData from "../content/marketing/features.json";
import useCasesData from "../content/marketing/use-cases.json";

const steps = [
  {
    title: "Install Porter GitHub App",
    detail: "Grant scoped repository access so Porter can read issues, push branches, and open PRs.",
    outcome: "Result: repository events and write paths are enabled for automation."
  },
  {
    title: "Create your config Gist",
    detail: "Store Fly and model-provider credentials in a private Gist tied to your GitHub identity.",
    outcome: "Result: each task receives runtime secrets without hardcoding credentials."
  },
  {
    title: "Comment @porter <agent>",
    detail: "Trigger execution directly in issue comments using @porter opencode, @porter claude, or @porter amp.",
    outcome: "Result: webhook ingestion, prompt enrichment, and worker provisioning begin automatically."
  },
  {
    title: "Get a PR back",
    detail: "Porter runs the selected agent in an isolated Fly Machine and returns status plus PR link in-thread.",
    outcome: "Result: full audit trail across issue, branch, and pull request lifecycle."
  }
];
---

<LandingLayout title="Porter | Orchestrate agent workflows">
  <Hero headline={heroData.hero.headline} subhead={heroData.hero.subhead} cta={heroData.hero.cta}>
    <Button slot="cta" href="/docs/getting-started/quickstart">{heroData.hero.cta}</Button>
    <Button slot="secondary" href="/docs" variant="ghost">Read docs</Button>
    <TerminalDemo slot="terminal" />
  </Hero>
  <Features features={featuresData.features} />
  <HowItWorks steps={steps} />
  <UseCases cases={useCasesData.useCases} />
</LandingLayout>
