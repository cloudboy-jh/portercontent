---
import DocsLayout from "../../layouts/DocsLayout.astro";
import { getCollection } from "astro:content";
import SearchBar from "../../components/docs/SearchBar.svelte";

const docs = await getCollection("docs");
---

<DocsLayout title="Porter Docs">
  <section class="docs-home container">
    <div>
      <p class="eyebrow">Documentation</p>
      <h1>Porter docs</h1>
      <p>Everything you need to run agents through GitHub issues.</p>
    </div>
    <SearchBar client:load />
    <div class="grid">
      {docs.map((doc) => (
        <a class="card" href={`/docs/${doc.slug}`}
          >
          <h3>{doc.data.title}</h3>
          <p>{doc.data.description}</p>
        </a>
      ))}
    </div>
  </section>
</DocsLayout>

<style>
  .docs-home {
    padding: 3rem 0 4rem;
  }

  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
    gap: 1.5rem;
    margin-top: 2rem;
  }

  .card {
    padding: 1.5rem;
    background: #0f1013;
    border: 1px solid #1c1f24;
    border-radius: 14px;
    text-decoration: none;
    color: inherit;
  }

  p {
    color: var(--ink-400);
  }
</style>
