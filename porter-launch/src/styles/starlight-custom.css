@import url("https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap");

:root,
::backdrop {
  --sl-font: "Space Grotesk";
  --sl-font-mono: "IBM Plex Mono";

  --porter-bg-0: hsl(20, 15%, 7%);
  --porter-bg-1: hsl(20, 15%, 10%);
  --porter-bg-2: hsl(22, 14%, 16%);
  --porter-bg-3: hsl(22, 12%, 14%);

  --porter-fg-0: hsl(38, 40%, 98%);
  --porter-fg-1: hsl(34, 20%, 93%);
  --porter-fg-2: hsl(30, 14%, 78%);
  --porter-fg-3: hsl(28, 10%, 60%);
  --porter-fg-4: hsl(26, 9%, 40%);

  --porter-border-soft: hsl(24, 10%, 24%);
  --porter-accent: hsl(27, 94%, 60%);
  --porter-accent-low: hsl(26, 78%, 20%);
  --porter-accent-high: hsl(33, 98%, 84%);

  --porter-search-bg: color-mix(in oklab, var(--porter-bg-2) 92%, var(--porter-accent-low));
  --porter-search-bg-hover: color-mix(in oklab, var(--porter-bg-2) 84%, var(--porter-accent-low));
  --porter-search-border: color-mix(in oklab, var(--porter-accent) 26%, var(--porter-border-soft));
  --porter-search-border-focus: color-mix(in oklab, var(--porter-accent) 56%, var(--porter-border-soft));
  --porter-search-placeholder: var(--porter-fg-3);
  --porter-search-text: var(--porter-fg-1);

  --sl-color-gray-1: var(--porter-fg-1);
  --sl-color-gray-2: var(--porter-fg-2);
  --sl-color-gray-3: var(--porter-fg-3);
  --sl-color-gray-4: var(--porter-fg-4);
  --sl-color-gray-5: var(--porter-border-soft);
  --sl-color-gray-6: var(--porter-bg-2);
  --sl-color-gray-7: var(--porter-bg-3);

  --sl-color-accent-low: var(--porter-accent-low);
  --sl-color-accent: var(--porter-accent);
  --sl-color-accent-high: var(--porter-accent-high);

  --sl-color-bg: var(--porter-bg-0);
  --sl-color-bg-nav: var(--porter-bg-1);
  --sl-color-bg-sidebar: var(--porter-bg-1);
  --sl-color-text: var(--porter-fg-2);
  --sl-color-white: var(--porter-fg-0);
  --sl-sidebar-width: 19.5rem;
  --sl-content-width: 46rem;
}

:root[data-theme="light"],
[data-theme="light"] ::backdrop {
  --porter-bg-0: hsl(40, 45%, 98%);
  --porter-bg-1: hsl(36, 36%, 96%);
  --porter-bg-2: hsl(33, 26%, 91%);
  --porter-bg-3: hsl(34, 28%, 95%);

  --porter-fg-0: hsl(24, 18%, 20%);
  --porter-fg-1: hsl(24, 18%, 20%);
  --porter-fg-2: hsl(23, 17%, 28%);
  --porter-fg-3: hsl(24, 10%, 42%);
  --porter-fg-4: hsl(24, 9%, 55%);

  --porter-border-soft: hsl(26, 18%, 83%);
  --porter-accent-low: hsl(30, 85%, 92%);
  --porter-accent: hsl(24, 88%, 48%);
  --porter-accent-high: hsl(23, 64%, 24%);

  --porter-search-bg: color-mix(in oklab, var(--porter-bg-2) 92%, var(--porter-accent-low));
  --porter-search-bg-hover: color-mix(in oklab, var(--porter-bg-2) 80%, var(--porter-accent-low));
  --porter-search-border: color-mix(in oklab, var(--porter-accent) 18%, var(--porter-border-soft));
  --porter-search-border-focus: color-mix(in oklab, var(--porter-accent) 44%, var(--porter-border-soft));
  --porter-search-placeholder: var(--porter-fg-3);
  --porter-search-text: var(--porter-fg-1);

  --sl-color-gray-1: var(--porter-fg-1);
  --sl-color-gray-2: var(--porter-fg-2);
  --sl-color-gray-3: var(--porter-fg-3);
  --sl-color-gray-4: var(--porter-fg-4);
  --sl-color-gray-5: var(--porter-border-soft);
  --sl-color-gray-6: var(--porter-bg-2);
  --sl-color-gray-7: var(--porter-bg-3);
  --sl-color-accent-low: var(--porter-accent-low);
  --sl-color-accent: var(--porter-accent);
  --sl-color-accent-high: var(--porter-accent-high);
  --sl-color-bg: var(--porter-bg-0);
  --sl-color-bg-nav: var(--porter-bg-1);
  --sl-color-bg-sidebar: var(--porter-bg-1);
  --sl-color-text: var(--porter-fg-2);
  --sl-color-white: var(--porter-fg-0);
}

header.header {
  backdrop-filter: blur(14px);
  background: linear-gradient(120deg, color-mix(in oklab, var(--sl-color-bg-nav) 88%, transparent), color-mix(in oklab, var(--sl-color-accent-low) 28%, transparent));
  border-bottom: 1px solid color-mix(in oklab, var(--sl-color-accent) 24%, var(--sl-color-hairline));
}

.header .title-wrapper .site-title {
  letter-spacing: 0;
}

.header .right-group .social-icons {
  display: none;
}

.sidebar-pane {
  border-right: 1px solid color-mix(in oklab, var(--sl-color-accent) 16%, var(--sl-color-hairline));
}

.sidebar-content {
  padding-top: 1.2rem;
}

.sidebar-content details,
.sidebar-content a {
  border-radius: 10px;
}

.sidebar-content a {
  border: 1px solid transparent;
  transition: all 0.2s ease;
}

.sidebar-content a:hover,
.sidebar-content a:focus {
  border-color: color-mix(in oklab, var(--sl-color-accent) 22%, var(--sl-color-hairline));
  background: color-mix(in oklab, var(--sl-color-accent-low) 25%, transparent);
}

.sidebar-content [aria-current="page"],
.sidebar-content [aria-current="page"]:hover {
  color: var(--sl-color-white);
  background: linear-gradient(90deg, color-mix(in oklab, var(--sl-color-accent) 30%, transparent), color-mix(in oklab, var(--sl-color-accent) 6%, transparent));
  border-color: color-mix(in oklab, var(--sl-color-accent) 40%, transparent);
}

.hero {
  position: relative;
  overflow: clip;
  border: 1px solid color-mix(in oklab, var(--sl-color-accent) 24%, var(--sl-color-hairline));
  border-radius: 18px;
  padding: 1.2rem;
  background:
    radial-gradient(1200px 300px at -10% -20%, color-mix(in oklab, var(--sl-color-accent) 28%, transparent), transparent 60%),
    radial-gradient(700px 220px at 120% 30%, color-mix(in oklab, var(--sl-color-accent-high) 24%, transparent), transparent 70%),
    linear-gradient(160deg, color-mix(in oklab, var(--sl-color-bg) 90%, transparent), color-mix(in oklab, var(--sl-color-bg-nav) 96%, transparent));
  animation: hero-fade 500ms ease-out;
}

@keyframes hero-fade {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.main-pane .content-panel {
  border: 1px solid color-mix(in oklab, var(--sl-color-accent) 14%, var(--sl-color-hairline));
  border-radius: 14px;
  background: linear-gradient(180deg, color-mix(in oklab, var(--sl-color-bg) 96%, transparent), color-mix(in oklab, var(--sl-color-bg-nav) 98%, transparent));
  padding: clamp(1rem, 1.8vw, 1.6rem);
}

.sl-markdown-content :where(h2, h3) {
  letter-spacing: -0.015em;
}

.sl-markdown-content h2 {
  margin-top: 2rem;
  padding-top: 0.35rem;
  border-top: 1px solid color-mix(in oklab, var(--sl-color-accent) 16%, var(--sl-color-hairline));
}

.sl-markdown-content a {
  text-underline-offset: 0.18em;
}

.sl-markdown-content table {
  border-radius: 10px;
  overflow: hidden;
}

.sl-markdown-content tr:nth-child(2n) {
  background: color-mix(in oklab, var(--sl-color-bg) 92%, var(--sl-color-accent-low));
}

.sl-markdown-content th {
  background: color-mix(in oklab, var(--sl-color-bg-nav) 92%, var(--sl-color-accent-low));
}

.sl-markdown-content code {
  border-radius: 6px;
  border: 1px solid color-mix(in oklab, var(--sl-color-accent) 22%, var(--sl-color-hairline));
}

.sl-markdown-content .card {
  border-radius: 14px;
  border-color: color-mix(in oklab, var(--sl-color-accent) 25%, var(--sl-color-hairline));
}

.right-sidebar-panel,
.sidebar-pane {
  background: linear-gradient(180deg, color-mix(in oklab, var(--sl-color-bg-sidebar) 96%, transparent), var(--sl-color-bg-sidebar));
}

.right-sidebar-panel {
  border-left: 1px solid color-mix(in oklab, var(--sl-color-accent) 12%, var(--sl-color-hairline));
}

/* Search */
.header site-search button[data-open-modal] {
  border: 1px solid var(--porter-search-border) !important;
  background: linear-gradient(180deg, var(--porter-search-bg), color-mix(in oklab, var(--porter-search-bg) 92%, var(--porter-bg-0))) !important;
  color: var(--porter-search-text) !important;
  border-radius: 999px !important;
  box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--porter-accent) 8%, transparent);
}

.header site-search button[data-open-modal]:hover {
  border-color: var(--porter-search-border-focus) !important;
  background: linear-gradient(180deg, var(--porter-search-bg-hover), color-mix(in oklab, var(--porter-search-bg-hover) 90%, var(--porter-bg-0))) !important;
}

.header site-search button[data-open-modal] svg {
  color: var(--porter-search-placeholder);
}

site-search dialog {
  border-color: var(--porter-search-border) !important;
  background: linear-gradient(180deg, color-mix(in oklab, var(--porter-bg-2) 96%, transparent), var(--porter-bg-1)) !important;
}

#starlight__search {
  --pagefind-ui-primary: var(--porter-accent) !important;
  --pagefind-ui-text: var(--porter-search-text) !important;
  --pagefind-ui-background: color-mix(in oklab, var(--porter-bg-1) 94%, transparent) !important;
  --pagefind-ui-border: var(--porter-search-border) !important;
}

#starlight__search .pagefind-ui__search-input,
#starlight__search .pagefind-ui__search-input::placeholder {
  color: var(--porter-search-text) !important;
}

#starlight__search .pagefind-ui__search-input::placeholder {
  color: var(--porter-search-placeholder) !important;
}

#starlight__search .pagefind-ui__form:focus-within,
#starlight__search input:focus {
  --pagefind-ui-border: var(--porter-search-border-focus) !important;
  box-shadow: 0 0 0 2px color-mix(in oklab, var(--porter-accent) 20%, transparent);
}

@media (max-width: 50rem) {
  .hero {
    border-radius: 14px;
    padding: 1rem;
  }
}
